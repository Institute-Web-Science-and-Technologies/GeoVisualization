\subsection{Kollisionsabfrage über Linienintersektion }
%Ob bei der Umsetzung von Snake die aktive Schlange mit einer anderen Schlange kollidiert ist, kann alternativ auch über Linienintersektion getestet werden. Hierbei wird zusätzlich zum Kopf der aktiven Schlange auch der zweite Eckpunkt betrachtet. Genauer wird die Linie zwischen diesen beiden Punkten betrachtet. Für jeden Eckpunkt einer passiven Schlange wird die Linie zwischen diesem und je dem nächsten Eckpunkt betrachtet. Schneidet sich eine dieser Linien mit der vordersten Linie der aktiven Schlange, so sind beide Schlangen kollidiert. 

Alternativ kann man Kollisionsabfrage auch über Linienintersektion lösen. Bei der Kollisionsabfrage über Linienintersektion wird das erste Segment einer Schlange genommen und getestet ob es sich mit einem beliebigem Segment einer anderen Schlange überschneidet. Die Segmente werden bei uns jeweils über Punktepaare beschrieben. Aus den Punkten $P_{1}=\left( \begin{array}{c} x_{1} \\ y_{1} \end{array} \right)$ und $P_{2}=\left( \begin{array}{c} x_{2} \\ y_{2} \end{array} \right)$ berechnen wir die Koordinatenform $ax + by = c$ für die zur unserer Strecke gehörende Gerade durch $a = y_{1}$ - $y_{2}$, $b = x_{2}$ - $x_{1}$, $c=x_{2}$$y_{1}$ - $x_{1}$$y_{2}$. Durch gleichsetzen der Koordinatenformen $a_{1}x + b_{1}y - c_{2} = 0$ und $a_{2}x + b_{2}y - c_{2} = 0$ der Segmente bekommen wir ein lineares Gleichungssystem welches wir für den Fall von zwei nicht parallelen Geraden direkt über die Cramersche Regel\cite{lenze2006basiswissen} lösen: $S = \left( \begin{array}{c} x_{s} \\ y_{s} \end{array} \right)$, $x_s = \frac{c_{1}b_{2} - c_{2}b_{1}}{a_{1}b_{2} - a_{2}b_{1}}$, $y_s = \frac{a_{1}c_{2} - a_{2}c_{1}}{a_{1}b_{2} - a_{2}b_{1}}$. Im Fall von parallelen Geraden ist der Nenner null und es wird überprüft, ob einer der Randpunkte der einen Linie innerhalb der anderen Linie liegt. Ist dies nicht der Fall, wird keine Kollision festgestellt. Andernfalls wird eine Kollision erfasst.
 Ist der Nenner nicht null testen wir ob der Schnittpunkt $S$ der Geraden zwischen den Eckpunkten liegt, indem wir überprüfen ob der Punkt $S$ für beide Strecken jeweils zwischen den Eckpunkten der Strecke liegt.

%Jetzt testen wir ob der Schnittpunkt $S$ zwischen den Geraden auch Teil der Strecke ist indem wir überprüfen ob der x,y Wert von s jeweils zwischen den x,y Werten der beiden Punkte der Strecke liegt.
 



Diese Methode zur Kollisionsabfrage hat den Vorteil, dass sie eindeutige Kollisionen unabhängig von der Updategeschwindigkeit des GPS-Posi\-tions\-er\-mitt\-lungs\-diens\-tes erkennt.

\subsubsection{Entscheidung}
In diesem Projekt wurde sich für die Kollisionsabfrage über Abstandmessung entschieden. Da wir unsere Kollisionsabfrage für mehrere Spiele verwenden wollten, haben wir uns für eine Lösung entschieden, die nicht nur für zwei Linien funktioniert. Die Kollisionsabfrage über Linienintersektion wäre nur im Fall des Snakespiels eine gute Lösung gewesen und auch nur für das Beispiel der zwei Schlangen. In Tests mit der Abstandsmessung im Snakespiel wurden zufriedenstellende Ergebnisse erzielt. Aus Gründen der Zeit- und Testersparnis wurde eine schon implementierte Funktion von Android verwendet \footnote{\url{http://developer.android.com/reference/android/location/Location.html}}. Hierbei wird bei der Abstandsmessung berücksichtigt, dass die Erde ein Ellipsoid und keine Kugel ist. 
